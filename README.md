# Тестовое задание на позицию Data инженер


## Стек
 - Python 3.11
 - pandas
 - requests
 - asyncio

## Установка
```bash
git clone <repo>
cd cat_test-task
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

## Запуск
```bash
python main.py
```

## Подход к задаче
- Данные находил из официального сайта ФНС России(реестр субъектов мсп)


### Логика определения CAT-систем

Разработана многослойная система детектирования:

- Слой 1: Быстрый фильтр

Отбор по ОКВЭД (62.* - разработка ПО, 63.11 - обработка данных)
Поиск ключевых слов в названии: "перевод", "транслейшн", "локализация", "лингвист"
- Слой 2: Классификатор по ключевым словам

Поиск явных упоминаний CAT-систем: Trados, MemoQ, Smartcat, Memsource, XTM, Phrase
Распознавание терминологии: "CAT-инструменты", "translation memory", "TM", "TMS"
Исключение ложных срабатываний (например, "Катарские авиалинии")
- Слой 3: LLM-верификация

Анализ контекста описания компании
Определение вероятности использования CAT-систем
Извлечение конкретных названий продуктов
Подтверждение признаков

Искал следующие признаки в текстовых данных:

Прямые указания: названия CAT-систем в описании
Косвенные признаки: упоминание "переводческое агентство", "локализация ПО"
Отраслевые маркеры: ОКВЭД переводческой деятельности
Исключения: нотариальные переводы, индивидуальные переводчики
Нормализация выручки

Выручка была представлена в рублях в числовом формате. Дополнительной нормализации не потребовалось, так как данные из реестра МСП уже были стандартизированы.

### Что получилось /  не получилось

Удалось реализовать:
Полный пайплайн обработки: от загрузки данных до сохранения результатов.
Обработку ошибок, устойчивость к сбоям API
Автоматическое продолжение: возможность останавливать и возобновлять обработку
Качественные метрики: точность системы 90% на тестовом наборе

Не удалось реализовать(планировалось):
Веб-скрапинг сайтов компаний: для дополнительной верификации
Полный анализ по доменам: проверка подходящего раздела  на сайтах

## Роль LLM

LLM (Groq + Llama-3.1) использовалась для следующих задач:

### Классификация компаний

- Определение вероятности использования CAT-систем на основе описания
- Анализ контекста и извлечение скрытых признаков
- Принятие решений в спорных случаях (например, IT-компании с отделами локализации)


### Ограничения LLM
- Если описания данных не достаточно качественные, то результат булет плохой
- Необходимость пауз между запросами из-за лимитов API
